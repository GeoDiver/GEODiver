doctype html
html lang="en"
  head
    meta content="text/html; charset=UTF-8" http-equiv="Content-Type"
    meta content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no" name="viewport"
    title GeoDiver
    /! Need to add critical CSS
    javascript:
      !function(e){"use strict";var n=function(n,t,i){function o(e){return r.body?e():void setTimeout(function(){o(e)})}var d,r=e.document,a=r.createElement("link"),l=i||"all";if(t)d=t;else{var f=(r.body||r.getElementsByTagName("head")[0]).childNodes;d=f[f.length-1]}var s=r.styleSheets;a.rel="stylesheet",a.href=n,a.media="only x",o(function(){d.parentNode.insertBefore(a,t?d:d.nextSibling)});var u=function(e){for(var n=a.href,t=s.length;t--;)if(s[t].href===n)return e();setTimeout(function(){u(e)})};return a.addEventListener&&a.addEventListener("load",function(){this.media=l}),a.onloadcssdefined=u,u(function(){a.media!==l&&(a.media=l)}),a};"undefined"!=typeof exports?exports.loadCSS=n:e.loadCSS=n}("undefined"!=typeof global?global:this);
      loadCSS( "https://fonts.googleapis.com/icon?family=Material+Icons" );
      loadCSS( "#{uri('assets/css/style-' + GeoDiver::VERSION + '.min.css')}" );
    noscript
      link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"
      link type="text/css" rel="stylesheet"  href="#{uri('assets/css/style-' + GeoDiver::VERSION + '.min.css')}"
    link href="#{uri('assets/img/icons/apple-touch-icon-57x57.png')}" rel="apple-touch-icon" sizes="57x57" /
    link href="#{uri('assets/img/icons/apple-touch-icon-60x60.png')}" rel="apple-touch-icon" sizes="60x60" /
    link href="#{uri('assets/img/icons/apple-touch-icon-72x72.png')}" rel="apple-touch-icon" sizes="72x72" /
    link href="#{uri('assets/img/icons/apple-touch-icon-76x76.png')}" rel="apple-touch-icon" sizes="76x76" /
    link href="#{uri('assets/img/icons/apple-touch-icon-114x114.png')}" rel="apple-touch-icon" sizes="114x114" /
    link href="#{uri('assets/img/icons/apple-touch-icon-120x120.png')}" rel="apple-touch-icon" sizes="120x120" /
    link href="#{uri('assets/img/icons/apple-touch-icon-144x144.png')}" rel="apple-touch-icon" sizes="144x144" /
    link href="#{uri('assets/img/icons/apple-touch-icon-152x152.png')}" rel="apple-touch-icon" sizes="152x152" /
    link href="#{uri('assets/img/icons/apple-touch-icon-180x180.png')}" rel="apple-touch-icon" sizes="180x180" /
    link href="#{uri('assets/img/icons/favicon-32x32.png')}" rel="icon" sizes="32x32" type="image/png" /
    link href="#{uri('assets/img/icons/favicon-194x194.png')}" rel="icon" sizes="194x194" type="image/png" /
    link href="#{uri('assets/img/icons/favicon-96x96.png')}" rel="icon" sizes="96x96" type="image/png" /
    link href="#{uri('assets/img/icons/android-chrome-192x192.png')}" rel="icon" sizes="192x192" type="image/png" /
    link href="#{uri('assets/img/icons/favicon-16x16.png')}" rel="icon" sizes="16x16" type="image/png" /
    link href="#{uri('assets/img/icons/manifest.json')}" rel="manifest" /
    link color="#2196f3" href="#{uri('assets/img/icons/safari-pinned-tab.svg')}" rel="mask-icon" /
    link href="#{uri('assets/img/icons/favicon.ico')}" rel=("shortcut icon") /
    meta content="GeoDiver" name="apple-mobile-web-app-title" /
    meta content="GeoDiver" name="application-name" /
    meta content="#2d89ef" name="msapplication-TileColor" /
    meta content="#{uri('assets/img/icons/mstile-144x144.png')}" name="msapplication-TileImage" /
    meta content="#{uri('assets/img/icons/browserconfig.xml')}" name="msapplication-config" /
    meta content="#90caf9" name="theme-color" /
  body.app
    nav
      .nav-wrapper
        span.hide-on-med-and-down.logo
          img height="64" src="#{uri('assets/img/geodiver-white.min.svg')}" alt="GeoDiver Logo" style="padding: 7px 0;"
          a#logo-container.brand-logo.white-text href="#{request.base_url}"
            | &nbsp;GeoDiver
        a#logo-container.brand-logo.white-text.hide-on-large-only href="#{request.base_url}"
          | &nbsp;GeoDiver
        ul.hide-on-med-and-down.navbar_centered
          li class=('active' if uri =~ %r{/analyse} )
            a.white-text href="#{request.base_url}/analyse"  Analyse    
          li class=('active' if uri =~ %r{/my_results} )
            - if session[:user].nil?
              a.white-text.modal-trigger href="#login_modal"  My Results
            - else
              a.white-text href="#{request.base_url}/my_results"  My Results
        ul.right.hide-on-med-and-down style="position:absolute;top:0 !important;right:0;"
          - if ! session[:user].nil?
            li.user data-user="#{Base64.encode64(session[:user].info['email']).chomp}"
              a.white-text.dropdown-button href="#!" data-activates="dropdown" data-beloworigin="true"
                span.left style="padding-right:15px; max-width:200px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;"
                  | #{session[:user].info['first_name']}
                img.circle.profile_img.right alt="Profile Picture" src="#{session[:user].info['image']}"/
                .clearfix
          - else
            li
              a.login_button.white-text
                i.material-icons.right> perm_identity
                | Login
        .container
          a.button-collapse data-activates="nav-mobile" href="#"
            i.material-icons.white-text menu
        ul#nav-mobile.side-nav
          li
            a href="#{request.base_url}/analyse"  Analyse
          li
            a href="#{request.base_url}/my_results"  My Results
          - if ! session[:user].nil?
            li
              a href="#{request.base_url}/logout"  Logout
          - else
            li
              a.login_button  Login
    .container
      h3  Frequently Asked Questions

      h5  What is GeoDiver?
      p  GeoDiver is a web tool that analyses GEO datasets and performs analysis on them. The two supported analyses are Differential Gene Expression Analysis and Gene Set Enrichment Analysis. Developed as an easy to use web tool, GeoDiver offers you the opportunity to dive into exploring GEO datasets and allowing you to perform these standard genetic tests within seconds without the need to know or use any form or programming.

      h5 Why does GeoDiver ask for my Google account?
      p  Using the Google authorisation system, we provide high security and also allow unique identification of the user. The only details extracted from your Google account are your name, email and profile picture in order to personalise your experience with GeoDiver. This also allows you to keep a record of your history and previous analysis carried out and allows you to retrieve and share your results.

      h5  What is a Differential Gene Expression Analysis?
      p  This analysis compares the gene expression levels between two given populations and comparatively calculates the significance of the genes with the greatest difference of expression levels. Examples are very up and down regulated genes between diseased and healthy groups of a certain disease. DGEA helps to identify genes, which could potentially play a part for this disease. GeoDiver offers you the functionality of picking your own populations to compare their gene expression levels to each other.

      h5   What is a Gene Set Enrichment Analysis?
      p  Gene Set Enrichment Analysis uses the difference in gene expression levels shown in a dataset, to identify significantly deregulated gene sets (a group of genes that are involved in a specific biological function). GeoDiver allows you to carry out this analysis with a dataset that contains an experimental and control group, or using a dataset that only consists of experimental groups.

      h5   What are GEO datasets?
      p  Gene Expression Omnibus is a large public repository for gene expression data from microarray, RNA-seq and many other experiments. Researchers upload their experimental results onto GEO and after curating these, are publically available as GEO datasets. These datasets have a unique identifier of format GDSxxxx and are the currently supported input for GeoDiver. After entering the accession number, GeoDiver will download the dataset for you and import it into your current session for you to start analysing it using the features provided.

      h5   How does GeoDiver perform the analysis?
      p  The functionality of GeoDiver runs on the programming language R wrapped in Ruby and deployed on an Amazon Web Server.

      h5  How can I upload my own data?
      p  Currently, GeoDiver does not support the option of uploading own datasets outside the publically available ones from GEO. The risks of security, errors from not supported formats and various other reasons, are why the upload feature has not been implemented in the prototype. However we wish to expand and support this feature for our premium users soon.

      h5   Who can see my analysis and results?
      p  You and only you. GeoDiver respects your privacy and scientific conduct and creates a folder for the users current session, which can only be accessed by the user itself. In order to share your results, you can send a link to your folder by copying and pasting the provided link generated after clicking the share button on “My Results”. Anyone with the link can see the result.

      h5  How can I download my results?
      p  The plots contain download button, which allow you to download the visualisations generated in png format. The plots are publication level graphics and can be used for scientific papers.

      h5  My question is not listed above
      p  Please feel free to fill the feedback form and we will be happy to help you with any questions you may have

    #login_modal.modal
      .modal-content
        h4 Please login to see the results of your previous analyses
        p  We need to know who you are in order to show you the results of your previous analyses. Please click on the button below in order to login using your Google account.
      .modal-footer
        a.modal-action.modal-close.waves-effect.waves-red.btn-flat.left href="#!"   Cancel
        a.login_button.waves-effect.waves-green.btn-flat  Login

    script src="https://code.jquery.com/jquery-3.2.1.min.js"
    script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/js/materialize.min.js"
    script src="#{uri('assets/js/geodiver-' + GeoDiver::VERSION + '.min.js')}"
